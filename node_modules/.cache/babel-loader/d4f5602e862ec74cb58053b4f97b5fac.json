{"ast":null,"code":"var _jsxFileName = \"/Users/chetnaajaynainani/Desktop/cc/pages/src/pages/Feed.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { useHistory } from \"react-router\";\nimport Post from \"../components/Post\";\nimport { AccessTokenContext } from \"../context/LoginContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Feed = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const token = useContext(AccessTokenContext).accessToken;\n  let history = useHistory();\n  useEffect(() => {\n    if (token === \"\") {\n      history.push(\"/\");\n      return;\n    }\n    fetch(\"https://workers.moodyrahman.workers.dev/post\", {\n      mode: \"cors\"\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      setPosts(data);\n      setLoading(false);\n      console.log(data);\n    });\n  }, [token, history]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: \"loading screen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: posts.map(e => /*#__PURE__*/_jsxDEV(Post, {\n      data: e\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(Feed, \"epnuCSS5Ws5gEJpLp4GspFHaso0=\", false, function () {\n  return [useHistory];\n});\n_c = Feed;\nexport default Feed;\nvar _c;\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"names":["useContext","useEffect","useState","Container","useHistory","Post","AccessTokenContext","Feed","posts","setPosts","loading","setLoading","token","accessToken","history","push","fetch","mode","then","response","json","data","console","log","map","e"],"sources":["/Users/chetnaajaynainani/Desktop/cc/pages/src/pages/Feed.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { useHistory } from \"react-router\";\nimport Post from \"../components/Post\";\nimport { AccessTokenContext } from \"../context/LoginContext\";\n\nconst Feed = () => {\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\tconst token = useContext(AccessTokenContext).accessToken;\n  let history = useHistory();\n\t\n\tuseEffect(() => {\n\t\tif (token === \"\")\n\t\t{\n\t\t\thistory.push(\"/\")\n\t\t\treturn\n\t\t}\n\n    fetch(\"https://workers.moodyrahman.workers.dev/post\", { mode: \"cors\" })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        setPosts(data);\n        setLoading(false);\n        console.log(data);\n      });\n  }, [token, history]);\n\n  if (loading) {\n    return <Container>loading screen</Container>;\n  }\n\n  return (\n    <Container>\n      {posts.map((e) => (\n        <Post data={e}></Post>\n      ))}\n    </Container>\n  );\n};\n\nexport default Feed;\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,IAAI,MAAM,oBAAoB;AACrC,SAASC,kBAAkB,QAAQ,yBAAyB;AAAC;AAE7D,MAAMC,IAAI,GAAG,MAAM;EAAA;EACjB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC7C,MAAMU,KAAK,GAAGZ,UAAU,CAACM,kBAAkB,CAAC,CAACO,WAAW;EACvD,IAAIC,OAAO,GAAGV,UAAU,EAAE;EAE3BH,SAAS,CAAC,MAAM;IACf,IAAIW,KAAK,KAAK,EAAE,EAChB;MACCE,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACjB;IACD;IAEEC,KAAK,CAAC,8CAA8C,EAAE;MAAEC,IAAI,EAAE;IAAO,CAAC,CAAC,CACpEC,IAAI,CAAEC,QAAQ,IAAK;MAClB,OAAOA,QAAQ,CAACC,IAAI,EAAE;IACxB,CAAC,CAAC,CACDF,IAAI,CAAEG,IAAI,IAAK;MACdZ,QAAQ,CAACY,IAAI,CAAC;MACdV,UAAU,CAAC,KAAK,CAAC;MACjBW,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,CAACT,KAAK,EAAEE,OAAO,CAAC,CAAC;EAEpB,IAAIJ,OAAO,EAAE;IACX,oBAAO,QAAC,SAAS;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA2B;EAC9C;EAEA,oBACE,QAAC,SAAS;IAAA,UACPF,KAAK,CAACgB,GAAG,CAAEC,CAAC,iBACX,QAAC,IAAI;MAAC,IAAI,EAAEA;IAAE;MAAA;MAAA;MAAA;IAAA,QACf;EAAC;IAAA;IAAA;IAAA;EAAA,QACQ;AAEhB,CAAC;AAAC,GAnCIlB,IAAI;EAAA,QAIMH,UAAU;AAAA;AAAA,KAJpBG,IAAI;AAqCV,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module"}